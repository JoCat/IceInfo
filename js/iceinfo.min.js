/*
 IceInfo v.2.0.2 - Informer for Site (Icecast2 Online Radio)
 Copyright (c) 2016-2020 Andrew Molchanov
 https://github.com/JoCat/IceInfo
*/
IceInfo={server_address:"http://127.0.0.1:8000/",mounts_list:["live","nonstop"],info_link:"info.xsl",time_update:10,init(t){if("object"==typeof t)for(let e of Object.keys(t))this[e]=t[e];this.showinfo()},showinfo(){this.request(this.server_address+this.info_link,t=>{for(let e of this.mounts_list)if(t[e]){for(let s of Object.keys(t[e]))document.getElementById("iceinfo-"+s)&&(document.getElementById("iceinfo-"+s).innerHTML=t[e][s]);break}}),this.timer=setTimeout(()=>{this.showinfo()},1e3*this.time_update)},request(t,e){var s=new XMLHttpRequest;s.open("GET",t,!0),s.onload=function(){if(this.status>=200&&this.status<400){var t=JSON.parse(this.response);e(t)}},s.send()}};