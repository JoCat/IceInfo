<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>JSInfo.js - Информер для сайта</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <style>
    @import url(https://fonts.googleapis.com/css?family=Exo+2:400,700&display=swap&subset=cyrillic);
    body {
        font-family: 'Exo 2', sans-serif;
    }
    header {
        background-color: #0af;
        color: #fff;
        padding: .5em;
        margin-bottom: 2em;
    }
    blockquote {
        background-color: #f5f5f5;
        padding: 10px 15px;
    }
    pre {
        margin: 0px;
    }
    pre, code {
        font-weight: bold;
    }
    h2 {
        margin-top: 3rem;
    }
    </style>
  </head>
  <body>
    <header>
      <div class="container text-center">
        <h1>JSInfo <small>– Информер для сайта</small></h1>
      </div>
    </header>
    <div class="container">
      <p>Добро пожаловать на страницу JCat Stream Info.<br>
        JSInfo – скрипт информера для сайта интенет-радио на платформе Icecast2.<br>
        Ниже будет приведено описание установки, подключения и настройки скрипта.
      </p>
      <h2>Установка скрипта</h2>
      <p>Для начала вам нужно:</p>
      <p>1. Загрузить скрипт на сайт:</p>
      <blockquote>
        <code>jsinfo.min.js</code> или <code>jsinfo.js</code> из папки <code>js</code>
      </blockquote>
      <p>2. Загрузить файл <code>info.xsl</code> из папки <code>to icecast2 web folder</code> в папку веб части сарвера Icecast.</p>
      <blockquote>
        По умолчанию <code>/usr/share/icecast2/web</code> для Debian (можно посмотреть в конфиге Icecast-a).
      </blockquote>
      <h2>Подключение и настройка скрипта</h2>
      <p>Подключить скрипт:</p>
      <blockquote>
        <code>&lt;script type=&quot;text/javascript&quot; src=&quot;js/jsinfo.min.js&quot;&gt;&lt;/script&gt;</code>
      </blockquote>
      <p>Вся настройка заключается в 2-х пунктах:</p>
      <p>1. Добавить после строк подключения плеера следующее:</p>
      <blockquote>
<pre>&lt;script type=&quot;text/javascript&quot;&gt;
    JSInfo.init({
        server_address: '<span style="color:#e83e8c;">*server address*</span>'
    });
&lt;/script&gt;</pre>
      </blockquote>
      <p>Указав вместо <code>*server address*</code> свой адрес сервера, например:</p>
      <blockquote>
        <code>server_address: '<span style="color:#e83e8c;">http://127.0.0.1:8000/</span>'</code>
      </blockquote>
      <p>А также указав дополнительные параметры, если требуется, список которых приведён ниже.</p>
      <p>2. Добавить в код вашего сайта, в нужное вам место:
      <blockquote>
        <code>&lt;div id=&quot;jsi-*param name*&quot;&gt;&lt;/div&gt;</code>
      </blockquote>
      <p>где <code>*param name*</code> это название информационного поля, например:</p>
      <blockquote>
        <code>&lt;div id=&quot;jsi-title&quot;&gt;&lt;/div&gt;</code>
      </blockquote>
      </p>
      <p>Ниже вы видите пример блока с выводом информации:</p>
      <blockquote>
<pre>&lt;div&gt;
    Сейчас играет: &lt;span id="jsi-title"&gt;&lt;/span&gt;&lt;br&gt;
    Слушателей: &lt;span id="jsi-listeners"&gt;&lt;/span&gt;&lt;br&gt;
    Максимум слушателей: &lt;span id="jsi-listeners_peak"&gt;&lt;/span&gt;&lt;br&gt;
    Поток: &lt;span id="jsi-name"&gt;&lt;/span&gt;
&lt;/div&gt;</pre>
      </blockquote>
      <h2>Параметры скрипта</h2>
      <p>
        <code>server_address</code><br>
        По умолчанию: <code>'http://127.0.0.1:8000/'</code><br>
        Адрес сервера Icecast
      </p>
      <p>
        <code>mounts_list</code><br>
        По умолчанию: <code>['live', 'nonstop']</code><br>
        Список mount поинтов с которых берётся информация в порядке убывания (первый приоритетнее всех последующих) 
      </p>
      <p>
        <code>info_link</code><br>
        По умолчанию: <code>'info.xsl'</code><br>
        Название информационного файла
      </p>
      <p>
        <code>time_update</code><br>
        По умолчанию: <code>10</code><br>
        Время периода обновления информации в секундах
      </p>
      <h2>Доступные информационные поля</h2>
      <p>
        <code>name</code><br>
        Название mount поинта
      </p>
      <p>
        <code>description</code><br>
        Описание mount поинта
      </p>
      <p>
        <code>listeners</code><br>
        Количество слушателей в данный момент времени
      </p>
      <p>
        <code>listeners_peak</code><br>
        Максимальное количество слушателей с последнего запуска радио (сервера Icecast)
      </p>
      <p>
        <code>title</code><br>
        Играющий трек в формате "Исполнитель - Название песни"
      </p>
      <p>
        <code>genre</code><br>
        Жанр играющего трека
      </p>
    </div>
    <footer class="container mt-5">
     <p>
        В случае возникновения проблем при установке, настройке или работе скрипта, можете обращаться ко мне <a href="https://vk.com/johny_cat">в ВК</a>.
        <br>На этом всё, приятного использования :3
      </p>
      <p>
        <a href="https://github.com/JoCat/JSInfo">JCat Stream Info</a><br>
        Copyright (c) 2016-2020 <a href="https://jocat.ru/">Andrew Molchanov</a>
      </p>
    </footer>
  </body>
</html>